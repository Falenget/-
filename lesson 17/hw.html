<html>
    <head>
        <meta charset="utf-8">
        <title>Canvas</title>
        <link rel="stylesheet" href="111.css">
    </head>
    <body>
        <canvas id="canvas" width="64" height="64"></canvas>

        <script>
            var canvas = document.getElementById("canvas"),
            context = canvas.getContext("2d"),
            width = 64 , height =64  , frames =7 , currentFrame = 0,
            img = new Image();

            img.src = "dz_map.png";
            var draw = function() {
                context.clearRect(0,0,width,height);
                context.drawImage(img,width*currentFrame,0,width,height,0,0,width,height);
                if(currentFrame == frames) {
                    currentFrame = 0;
                } else {
                    currentFrame++;
                }
            }
            
            img.onload = function() {
                setInterval(draw,100);
            }
        </script> 
    </body>
</html> 